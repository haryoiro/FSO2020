{"version":3,"sources":["util/regExpHelper.js","components/Notification.js","components/DataInput.js","components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["module","exports","regExpEscape","str","replace","Notification","message","className","type","DataInput","title","onChange","value","Filter","tite","PersonForm","addPerson","handleChangeName","handleChangeNumber","newName","newNumber","onSubmit","Persons","persons","filterString","onClick","filter","x","name","match","RegExp","map","person","id","number","key","baseURL","axios","get","then","res","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setFilterString","setMessage","useEffect","personsServices","updatePerson","newPerson","window","confirm","index","findIndex","p","updatedPersons","setTimeout","event","target","preventDefault","length","addedPerson","concat","catch","err","messages","response","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b4d1c50f.chunk.js","sourcesContent":["\nconst regExpEscape = (str) => {\n  return str.replace(/[-\\\\^$*+?.()|\\]{}]/g, '')\n}\n\nmodule.exports = {\n  regExpEscape\n}","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={message.type}>\n      {message.message}\n    </div>\n  )\n}\n\nexport default Notification","import React from 'react'\n\nconst DataInput = ({ title, onChange, value }) => {\n  return (\n    <div>\n      {title}<input value={value} onChange={onChange} />\n    </div>\n  )\n}\n\nexport default DataInput","import React from 'react'\n\n// Components\nimport DataInput from './DataInput'\n\nconst Filter = ({ title, onChange, value }) => (\n  <DataInput tite={title} onChange={onChange} value={value} />\n)\n\nexport default Filter\n","import React from 'react'\n\n// Components\nimport DataInput from './DataInput'\n\nconst PersonForm = ({ addPerson, handleChangeName, handleChangeNumber, newName, newNumber }) => {\n  return (\n    <form onSubmit={addPerson}>\n      <DataInput title=\"name: \" onChange={handleChangeName} value={newName}/>\n      <DataInput title=\"number: \" onChange={handleChangeNumber} value={newNumber}/>\n      <div> <button type=\"submit\">add</button> </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nimport {regExpEscape} from '../util/regExpHelper'\n\nconst Persons = ({ persons, filterString, onClick }) => {\n  return (\n    <div>\n      {persons\n        .filter(x => x.name.match(new RegExp(regExpEscape(filterString))))\n        .map(person => {\n          const { id, name, number } = person\n          return (\n            <div key={id}>\n              {name} {number}\n              <button id={id} name={name} onClick={onClick}>delete</button>\n            </div>\n          )\n        }\n      )}\n    </div>\n  )\n}\n\nexport default Persons","import axios from 'axios'\nconst baseURL = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseURL)\n  return request.then(res => res.data)\n}\n\nconst add = (newObject) => {\n  const request = axios.post(baseURL, newObject)\n  return request.then(res => res.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseURL}/${id}`, newObject)\n  return request.then(res => res.data)\n}\n\nconst deleteNumber = (id) => {\n  const request = axios.delete(`${baseURL}/${id}`)\n  return request.then(res => res)\n}\n\nexport default {\n  getAll,\n  add,\n  update,\n  deleteNumber\n}","import React, { useState, useEffect } from 'react'\n\n// Components\nimport Notification from './components/Notification'\nimport Filter       from './components/Filter'\nimport PersonForm   from './components/PersonForm'\nimport Persons      from './components/Persons'\n\n// Services\nimport personsServices from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterString, setFilterString] = useState('')\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    personsServices\n      .getAll()\n      .then(persons => {\n        setPersons(persons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n      id: null\n    }\n\n    if (persons.filter(p => p.name === newName).length >= 1){\n      updatePerson(newPerson)\n    }\n    else {\n      personsServices\n        .add(newPerson)\n        .then(addedPerson => {\n          setPersons(persons.concat(addedPerson))\n          setMessage({ message: `Added ${addedPerson.name}`, type: \"success\" })\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000)\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(err => {\n          let messages = ''\n          if (err.response.data['name']) {\n            messages += err.response.data['name'].message + '\\n'\n          }\n          if (err.response.data['number']) {\n            messages += err.response.data['number'].message\n          }\n          setMessage({ message: `${messages}`, type: \"failure\" })\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000)\n        })\n    }\n  }\n\n  const deletePerson = event => {\n    const id = event.target.id\n    const name = event.target.name\n    if (window.confirm(`Delete ${name} ?`)) {\n      personsServices\n        .deleteNumber(id)\n        .then(() => {\n          setPersons(persons.filter(p => p.id !== id))\n          setMessage({ message: `Deleted ${name}`, type: \"success\" })\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000)\n        })\n        .catch(err => {\n          setMessage({ message: `Information of ${name} has already been removed from server`, type: \"failure\" })\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000)\n        })\n    }\n  }\n\n  const updatePerson = (newPerson) => {\n    if (window.confirm(`${newName}is already added to phonebook, replace the old number with a new one?`))\n    {\n      const index = persons.findIndex(p => p.name === newName)\n      const id = persons[index].id\n      personsServices\n        .update(id, newPerson)\n        .then(updatedPersons => {\n          setPersons(persons.map(p => p.id !== id ? p : updatedPersons))\n          setMessage({ message: `Updated ${updatedPersons.name}`, type: \"success\" })\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000)\n          setNewName('')\n          setNewNumber('')\n        })\n    }\n  }\n\n  const handleChangeName = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleChangeNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleNameFilter = (event) => {\n    setFilterString(event.target.value)\n  }\n\n  return (\n    <div className=\"container\">\n      <h1>Phonebook</h1>\n      <Notification message={message}/>\n      <Filter\n        title=\"filter shown with\"\n        onChange={handleNameFilter}\n        value={filterString} />\n\n      <h2>add a new</h2>\n      <PersonForm\n        addPerson={addPerson}\n        handleChangeName={handleChangeName}\n        handleChangeNumber={handleChangeNumber}\n        newName={newName}\n        newNumber={newNumber} />\n\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        filterString={filterString}\n        onClick={deletePerson}\n      />\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './index.css'\n\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}