{"version":3,"sources":["components/Blog.js","components/BlogForm.js","components/LoginForm.js","components/Message.js","services/blogs.js","services/login.js","App.js","index.js"],"names":["Blog","blog","title","author","BlogForm","blogs","map","key","id","LoginForm","handleLogin","handleChangeUser","handleChangePassword","newUser","password","onSubmit","type","value","onChange","Message","message","className","status","newToken","axios","get","then","response","data","login","credentials","a","post","res","App","useState","setBlogs","username","setUsername","setNewUser","setPassword","error","errorMessage","setErrorMessage","useEffect","blogService","console","log","loggedUserJSON","window","localStorage","getItem","user","JSON","parse","token","event","preventDefault","loginService","setItem","stringify","setTimeout","target","ReactDOM","render","document","getElementById"],"mappings":"gQAQeA,EANF,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAH,OACX,6BACGA,EAAKC,MADR,IACgBD,EAAKE,SCQRC,EATE,SAAC,GAAD,IAAEC,EAAF,EAAEA,MAAF,OACf,6BACE,qCACCA,EAAMC,KAAI,SAAAL,GAAI,OACb,kBAAC,EAAD,CAAMM,IAAKN,EAAKO,GAAIP,KAAMA,SCOjBQ,EAZG,SAAC,GAAD,IAAEC,EAAF,EAAEA,YAAaC,EAAf,EAAeA,iBAAkBC,EAAjC,EAAiCA,qBAAsBC,EAAvD,EAAuDA,QAASC,EAAhE,EAAgEA,SAAhE,OAChB,oCACE,0BAAMC,SAAUL,GAAhB,WAEE,2BAAOM,KAAK,OAAOC,MAAOJ,EAASK,SAAUP,IAAmB,6BAFlE,WAIE,2BAAOK,KAAK,OAAOC,MAAOH,EAAUI,SAAUN,IAAuB,6BACrE,2BAAOI,KAAK,SAASC,MAAM,aCMlBE,EAbC,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAAH,OACd,oCACqB,OAApBA,EAAQA,SACP,yBAAKC,UAAU,WACZD,EAAQE,OACL,yBAAKD,UAAU,SAASD,EAAQA,SAChC,yBAAKC,UAAU,WAAWD,EAAQA,Y,gBCM7B,EATE,SAAEG,GACZ,iBAAaA,IAQL,EALA,WAEb,OADgBC,IAAMC,IATR,cAUCC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCF5B,GAAEC,MANN,uCAAG,WAAMC,GAAN,eAAAC,EAAA,sEACMP,IAAMQ,KAHV,aAGwBF,GAD1B,cACNG,EADM,yBAELA,EAAIL,MAFC,2CAAH,uDCgFIM,G,MAxEH,WAAO,IAAD,EACUC,mBAAS,IADnB,mBACT9B,EADS,KACF+B,EADE,OAEgBD,mBAAS,MAFzB,mBAETE,EAFS,KAECC,EAFD,OAGcH,mBAAS,IAHvB,mBAGTtB,EAHS,KAGA0B,EAHA,OAIgBJ,mBAAS,IAJzB,mBAITrB,EAJS,KAIC0B,EAJD,OAKwBL,mBAAS,CAAEf,QAAS,KAAMqB,OAAO,IALzD,mBAKTC,EALS,KAKKC,EALL,KAOhBC,qBAAU,WACRC,IAAqBnB,MAAK,SAAArB,GAAK,OAC7B+B,EAAU/B,QAEX,IAEHuC,qBAAU,WACRE,QAAQC,IAAI,eACZ,IAAMC,EAAiBC,OAAOC,aAAaC,QAAQ,oBACnD,GAAIH,EAAgB,CAClB,IAAMI,EAAOC,KAAKC,MAAMN,GACxBV,EAAYc,GACZP,EAAqBO,EAAKG,WAI9B,IAQM7C,EAAW,uCAAG,WAAO8C,GAAP,eAAAzB,EAAA,6DAClByB,EAAMC,iBADY,kBAIGC,EAAa7B,MAAM,CAAEQ,SAAUxB,EAASC,aAJ3C,cAIVsC,EAJU,OAKhBH,OAAOC,aAAaS,QAAQ,mBAAoBN,KAAKO,UAAUR,IAL/C,SAOVP,EAAqBO,EAAKG,OAPhB,OAQhBjB,EAAYc,GACZb,EAAW,IACXC,EAAY,IAVI,kDAahBG,EAAgB,CAAEvB,QAAS,oBAAqBE,QAAQ,IAExDuC,YAAW,WACTlB,EAAgB,CAAEvB,QAAS,KAAMqB,OAAO,MACvC,KAjBa,0DAAH,sDAqBjB,OACE,6BACE,kBAAC,EAAD,CAASrB,QAASsB,IACJ,OAAbL,EACD,6BACE,kBAAC,EAAD,CAAUhC,MAAOA,IACjB,2BAAIgC,EAASA,SAAb,cAEA,kBAAC,EAAD,CACE3B,YAAaA,EACbC,iBAvCiB,SAAC6C,GACxBjB,EAAWiB,EAAMM,OAAO7C,QAuClBL,qBApCqB,SAAC4C,GAC5BhB,EAAYgB,EAAMM,OAAO7C,QAoCnBJ,QAASA,EACTC,SAAUA,OCxEpBiD,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.e08a7362.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Blog = ({ blog }) => (\r\n  <div>\r\n    {blog.title} {blog.author}\r\n  </div>\r\n)\r\n\r\nexport default Blog\r\n","import React from 'react'\nimport Blog from './Blog'\n\nconst BlogForm = ({blogs}) => (\n  <div>\n    <h2>blogs</h2>\n    {blogs.map(blog =>\n      <Blog key={blog.id} blog={blog} />\n    )}\n  </div>\n)\n\nexport default BlogForm","import React from 'react'\n\nconst LoginForm = ({handleLogin, handleChangeUser, handleChangePassword, newUser, password}) => (\n  <>\n    <form onSubmit={handleLogin}>\n      USERNAME\n      <input type=\"text\" value={newUser} onChange={handleChangeUser}/><br/>\n      PASSWORD\n      <input type=\"text\" value={password} onChange={handleChangePassword}/><br/>\n      <input type=\"submit\" value=\"LOGIN\" />\n    </form>\n  </>\n)\n\nexport default LoginForm","import React from 'react'\n\nconst Message = ({ message }) => (\n  <>\n  {message.message !== null &&\n    <div className=\"message\">\n      {message.status\n        ? <div className=\"error\">{message.message}</div>\n        : <div className=\"success\">{message.message}</div>\n      }\n    </div>\n  }\n  </>\n)\n\nexport default Message\n","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\n\nconst setToken = ( newToken ) => {\n  token = `Bearer ${newToken}`\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nexport default {\n  setToken,\n  getAll,\n }","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const res = await axios.post(baseUrl, credentials)\n  return res.data\n}\n\n\nexport default { login }","import React, { useState, useEffect } from 'react'\n\nimport BlogForm from './components/BlogForm'\nimport LoginForm from './components/LoginForm'\nimport Message from './components/Message'\n\nimport blogService from './services/blogs'\nimport loginService from './services/login'\n\nimport './App.css'\n\nconst App = () => {\n  const [blogs, setBlogs] = useState([])\n  const [username, setUsername] = useState(null)\n  const [newUser, setNewUser] = useState('')\n  const [password, setPassword] = useState('')\n  const [errorMessage, setErrorMessage] = useState({ message: null, error: false })\n\n  useEffect(() => {\n    blogService.getAll().then(blogs =>\n      setBlogs( blogs )\n    )\n  }, [])\n\n  useEffect(() => {\n    console.log('logged in ?')\n    const loggedUserJSON = window.localStorage.getItem('loggedInBlogUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUsername(user)\n      blogService.setToken(user.token)\n    }\n  })\n\n  const handleChangeUser = (event) => {\n    setNewUser(event.target.value)\n  }\n\n  const handleChangePassword = (event) => {\n    setPassword(event.target.value)\n  }\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n\n    try {\n      const user = await loginService.login({ username: newUser, password })\n      window.localStorage.setItem('loggedInBlogUser', JSON.stringify(user))\n\n      await blogService.setToken(user.token)\n      setUsername(user)\n      setNewUser('')\n      setPassword('')\n    } catch (err) {\n\n      setErrorMessage({ message: 'Wrong credentials', status: true })\n\n      setTimeout(() => {\n        setErrorMessage({ message: null, error: false })\n      }, 3000)\n    }\n  }\n\n  return (\n    <div>\n      <Message message={errorMessage} />\n      {username !== null ?\n      <div>\n        <BlogForm blogs={blogs} />\n        <p>{username.username}LOGGED IN</p>\n      </div> :\n        <LoginForm\n          handleLogin={handleLogin}\n          handleChangeUser={handleChangeUser}\n          handleChangePassword={handleChangePassword}\n          newUser={newUser}\n          password={password}\n        />\n      }\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}