{"version":3,"sources":["components/Blog.js","components/Blogs.js","components/LoginForm.js","components/Message.js","services/blogs.js","services/login.js","App.js","index.js"],"names":["Blog","blog","title","author","Blogs","blogs","user","username","map","key","id","LoginForm","handleLogin","handleChangeUser","handleChangePassword","newUser","password","onSubmit","type","value","onChange","Message","message","className","status","newToken","axios","get","then","response","data","login","credentials","a","post","res","App","useState","setBlogs","setUsername","setNewUser","setPassword","error","errorMessage","setErrorMessage","useEffect","blogService","loggedUserJSON","window","localStorage","getItem","JSON","parse","token","event","preventDefault","loginService","setItem","stringify","setTimeout","handleLogout","clear","onClick","target","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5a17b615.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Blog = ({ blog }) => (\r\n  <div>\r\n    {blog.title} {blog.author}\r\n  </div>\r\n)\r\n\r\nexport default Blog\r\n","import React from 'react'\nimport Blog from './Blog'\n\nconst Blogs = ({blogs, user}) => {\n  return (\n  <div>\n    <h2>BLOGS</h2>\n    <p>{user.username} LOGGED IN</p>\n    {blogs.map(blog =>\n      <Blog key={blog.id} blog={blog} />\n    )}\n  </div>\n  )\n}\nexport default Blogs","import React from 'react'\n\nconst LoginForm = ({handleLogin, handleChangeUser, handleChangePassword, newUser, password}) => (\n  <>\n    <form onSubmit={handleLogin}>\n      USERNAME\n      <input type=\"text\" value={newUser} onChange={handleChangeUser}/><br/>\n      PASSWORD\n      <input type=\"text\" value={password} onChange={handleChangePassword}/><br/>\n      <input type=\"submit\" value=\"LOGIN\" />\n    </form>\n  </>\n)\n\nexport default LoginForm","import React from 'react'\n\nconst Message = ({ message }) => (\n  <>\n  {message.message !== null &&\n    <div className=\"message\">\n      {message.status\n        ? <div className=\"error\">{message.message}</div>\n        : <div className=\"success\">{message.message}</div>\n      }\n    </div>\n  }\n  </>\n)\n\nexport default Message\n","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\n\nconst setToken = ( newToken ) => {\n  token = `Bearer ${newToken}`\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nexport default {\n  setToken,\n  getAll,\n }","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const res = await axios.post(baseUrl, credentials)\n  return res.data\n}\n\n\nexport default { login }","import React, { useState, useEffect } from 'react'\n\nimport Blogs from './components/Blogs'\nimport LoginForm from './components/LoginForm'\nimport Message from './components/Message'\n\nimport blogService from './services/blogs'\nimport loginService from './services/login'\n\nimport './App.css'\n\nconst App = () => {\n  const [blogs, setBlogs] = useState([])\n  const [username, setUsername] = useState(null)\n  const [newUser, setNewUser] = useState('')\n  const [password, setPassword] = useState('')\n  const [errorMessage, setErrorMessage] = useState({ message: null, error: false })\n\n  useEffect(() => {\n    blogService.getAll().then(blogs =>\n      setBlogs( blogs )\n    )\n  }, [])\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedInBlogUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUsername(user)\n      blogService.setToken(user.token)\n    }\n  }, [])\n\n  const handleChangeUser = (event) => {\n    setNewUser(event.target.value)\n  }\n\n  const handleChangePassword = (event) => {\n    setPassword(event.target.value)\n  }\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n\n    try {\n      const user = await loginService.login({ username: newUser, password })\n      window.localStorage.setItem('loggedInBlogUser', JSON.stringify(user))\n\n      await blogService.setToken(user.token)\n      setUsername(user)\n      setNewUser('')\n      setPassword('')\n    } catch (err) {\n\n      setErrorMessage({ message: 'Wrong credentials', status: true })\n\n      setTimeout(() => {\n        setErrorMessage({ message: null, error: false })\n      }, 3000)\n    }\n  }\n\n  const handleLogout = async (event) => {\n    event.preventDefault()\n\n    await window.localStorage.clear()\n    await setUsername(null)\n  }\n\n  return (\n    <div>\n      <Message message={errorMessage} />\n      {username !== null ?\n        <div>\n          <Blogs blogs={blogs} user={username}/>\n          <button onClick={handleLogout}>LOGOUT</button>\n        </div> :\n        <LoginForm\n          handleLogin={handleLogin}\n          handleChangeUser={handleChangeUser}\n          handleChangePassword={handleChangePassword}\n          newUser={newUser}\n          password={password}\n        />\n      }\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}